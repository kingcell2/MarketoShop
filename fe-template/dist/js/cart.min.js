$((function(){const n=JSON.parse(localStorage.getItem("cart"));n.map(n=>{$(`\n        <div data-id=${n.id} class="item">\n                    <button id="delete">X</button>\n                    <img src=${n.img}\n                        alt="">\n                    <div class="name">${n.name}</div>\n                    <div class="price">\n                        <span class="price-discount">\n                           $${Math.round(n.price-n.price*n.discount/100)}.00</span>\n                    </div>\n                    <form class="flex a-center" action="#">\n                        <div class="btn flex  a-center">\n                            <div class="dec-button">-</div>\n                            <input type="text" class="quantity_" id="quantity" value=${n.quantity}>\n                            <div class="inc-button">+</div>\n                        </div>\n                    </form>\n                    <div class="subtotal">$${Math.round(n.price-n.price*n.discount/100)*n.quantity}.00\n                    </div>\n                    <button class="update" >Update Cart</button>\n                </div>\n                <div class="b-bottom"></div>\n                \n        `).appendTo(".cols")}),$("#delete").click((function(t){t.preventDefault();const a=$(this).parents(".item").data("id"),e=n.findIndex(n=>n.id===a);console.log(e),console.log(a),n.splice(e,1);const i=n.reduce((n,t)=>n+Math.floor(t.total),0);n.subtotal=i;const s=n.reduce((n,t)=>n+t.quantity,0);$(".blue").text(""+s),$(".product-cart").empty(),n.length?($(".view-cart").css("opacity","1"),$(".total").text(`$${i}.00`),n.map(n=>{$(`\n                <div  class="product flex a-center j-between">\n                <div data-id=${n.id}  class="item-product flex a-center j-between">\n                    <img src=${n.img}\n                        alt="">\n                    <div class="info">\n                        <a class="name" href="">${n.name}</a>\n                        <div class="price flex a-center">\n                            <span class="quantity">${n.quantity}x </span>\n                            <span class="price"> $${Math.floor(n.price-n.price*n.discount/100)}.00</span>\n                        </div>\n                    </div>\n                </div>\n                <button id="delete">X</button>     \n                </div>\n            `).appendTo(".product-cart")})):($(".cols").css("display","none"),$(".return").css("display","block"),$(".shop").css("display","flex"),$(".no-product").css("display","block"),$(".row.a").css("display","none"),$(".code").css("display","none"),$(".total").text(`$${i}.00`)),$(".cols").empty(),n.map(n=>{$(`\n            <div data-id=${n.id} class="item">\n                        <button id="delete">X</button>\n                        <img src=${n.img}\n                            alt="">\n                        <div class="name">${n.name}</div>\n                        <div class="price">\n                            <span class="price-discount">\n                               $${Math.round(n.price-n.price*n.discount/100)}.00</span>\n                        </div>\n                        <form class="flex a-center" action="#">\n                            <div class="btn flex  a-center">\n                                <div class="dec-button">-</div>\n                                <input type="text" class="quantity_" id="quantity" value=${n.quantity}>\n                                <div class="inc-button">+</div>\n                            </div>\n                        </form>\n                        <div class="subtotal">$${Math.round(n.price-n.price*n.discount/100)*n.quantity}.00\n                        </div>\n                        <button class="update" >Update Cart</button>\n                    </div>\n                    <div class="b-bottom"></div>\n                    \n            `).appendTo(".cols")})}));const t=n.reduce((n,t)=>n+t.total,0),a=n.reduce((n,t)=>n+t.quantity,0);$(".blue").text(""+a),n.length>0&&$(".no-product").css("display","none"),$(".total").text(`$${t}.00`),$(".product-cart").empty(),n.map(n=>{$(`\n            <div data-id=${n.id} class="product flex a-center j-between">\n            <div  class="item-product flex a-center j-between">\n                <img src=${n.img}\n                    alt="">\n                <div class="info">\n                    <a class="name" href="">${n.name}</a>\n                    <div class="price flex a-center">\n                        <span class="quantity">${n.quantity}x </span>\n                        <span class="price"> $${Math.round(n.price-n.price*n.discount/100)}.00</span>\n                    </div>\n                </div>\n            </div>\n            <button id="delete">X</button>     \n            </div>\n        `).appendTo(".product-cart")})}));