$((function(){const t=JSON.parse(localStorage.getItem("wishlist")),n=JSON.parse(localStorage.getItem("cart"));function e(t){t.map(t=>{$(`\n                <div data-id=${t.id} class="product flex a-center j-between">\n                <div  class="item-product flex a-center j-between">\n                    <img src=${t.img}\n                        alt="">\n                    <div class="info">\n                        <a class="name" href="">${t.name}</a>\n                        <div class="price flex a-center">\n                            <span class="quantity">${t.quantity}x </span>\n                            <span class="price"> $${Math.round(t.price-t.price*t.discount/100)}.00</span>\n                        </div>\n                    </div>\n                </div>\n                <button id="delete">X</button>     \n                </div>\n            `).appendTo(".product-cart")})}function c(t){t.map(t=>{$(` <div data-id=${t.id} class="item">\n            <button id="delete-list">X</button>\n            <div class="images">\n                <img src=${t.img}\n                    alt="">\n            </div>\n            <span class="name">${t.name}</span>\n            <span class="price">$${Math.round(t.price-t.price*t.discount/100)}.00</span>\n            <span class="quantity">In Stock</span>\n            <button id="add-list">Add to cart <i class="fas fa-check"></i></button>\n        </div>\n        `).appendTo(".cols-list")})}const s=n.reduce((t,n)=>t+n.quantity,0),i=n.reduce((t,n)=>t+Math.floor(n.total),0);$(".blue").text(""+s),$(".product-cart").empty(),c(t),n.length&&($(".no-product").css("display","none"),$(".total").text(`$${i}.00`),e(n));const a=t.reduce((t,n)=>t+n.quantity,0);$(".white").text(""+a),$("body").on("click","#delete-list",(function(){const n=$(this).parents(".item").data("id"),e=t.findIndex(t=>t.id===n);t.splice(e,1),$(".cols-list").empty();const s=t.reduce((t,n)=>t+n.quantity,0);$(".white").text(""+s),t.length?c(t):($(".no-list").css("display","block"),$(".cols-list").css("border-bottom","none"))})),$("body").on("click","#add-list",(function(){const s=$(this).parents(".item").data("id"),i=t.find(t=>t.id===s),a=t.findIndex(t=>t.id===s),o=n.find(t=>t.id===s),d=n.findIndex(t=>t.id===s);if(-1===d){i.quantity=1,i.total=Math.round((i.price-i.price*i.discount/100)*i.quantity),n.push(i),t.splice(a,1),$(".cols-list").empty();const e=t.reduce((t,n)=>t+n.quantity,0);$(".white").text(""+e),t.length?c(t):($(".no-list").css("display","block"),$(".cols-list").css("border-bottom","none")),alert("Product added to cart successfully")}else n[d].quantity=o.quantity,n[d].total=Math.round(n[d].quantity*(n[d].price-n[d].price*n[d].discount/100)),alert("The product already exists in the shopping cart, please check back!");const l=n.reduce((t,n)=>t+n.quantity,0);$(".blue").text(""+l);const r=n.reduce((t,n)=>t+n.total,0);n.length>0&&$(".no-product").css("display","none"),$(".total").text(`$${r}.00`),$(".product-cart").empty(),e(n),localStorage.setItem("cart",JSON.stringify(n))})),$("body").on("click","#delete",(function(){const t=$(this).parents(".product").data("id"),c=n.findIndex(n=>n.id===t);n.splice(c,1);const s=n.reduce((t,n)=>t+Math.floor(n.total),0);n.subtotal=s;const i=n.reduce((t,n)=>t+n.quantity,0);$(".blue").text(i+" "),$(".product-cart").empty(),n.length?($(".no-product").css("display","none"),$(".view-cart").css("opacity","1"),$(".total").text(`$${s}.00`),e(n)):($(".no-product").css("display","block"),$(".total").text(`$${s}.00`))}))}));