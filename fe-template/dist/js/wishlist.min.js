$((function(){const t=JSON.parse(localStorage.getItem("wishlist")),n=JSON.parse(localStorage.getItem("cart")),a=n.reduce((t,n)=>t+n.quantity,0),e=n.reduce((t,n)=>t+Math.floor(n.total),0);$(".blue").text(""+a),$(".product-cart").empty(),n.length&&($(".no-product").css("display","none"),$(".total").text(`$${e}.00`),n.map(t=>{$(`\n            <div  data-id=${t.id}   class="product flex a-center j-between">\n            <div class="item-product flex a-center j-between">\n                <img src=${t.img}\n                    alt="">\n                <div class="info">\n                    <a class="name" href="">${t.name}</a>\n                    <div class="price flex a-center">\n                        <span class="quantity">${t.quantity}x </span>\n                        <span class="price"> $${Math.floor(t.price-t.price*t.discount/100)}.00</span>\n                    </div>\n                </div>\n            </div>\n            <button id="delete">X</button>     \n            </div>\n        `).appendTo(".product-cart")})),t.map(t=>{$(` <div data-id=${t.id} class="item">\n        <button id="delete-list">X</button>\n        <div class="images">\n            <img src=${t.img}\n                alt="">\n        </div>\n        <span class="name">${t.name}</span>\n        <span class="price">$${Math.round(t.price-t.price*t.discount/100)}.00</span>\n        <span class="quantity">In Stock</span>\n        <button id="add-list">Add to cart <i class="fas fa-check"></i></button>\n    </div>\n    `).appendTo(".cols-list")});const i=t.reduce((t,n)=>t+n.quantity,0);$(".white").text(""+i),$("body").on("click","#delete-list",(function(){const n=$(this).parents(".item").data("id"),a=t.findIndex(t=>t.id===n);t.splice(a,1),$(".cols-list").empty(),console.log(n),console.log(a);const e=t.reduce((t,n)=>t+n.quantity,0);$(".white").text(""+e),t.length?t.map(t=>{$(` <div data-id=${t.id} class="item">\n        <button id="delete-list">X</button>\n        <div class="images">\n            <img src=${t.img}\n                alt="">\n        </div>\n        <span class="name">${t.name}</span>\n        <span class="price">${t.price}</span>\n        <span class="quantity">In Stock</span>\n        <button id="add-list">Add to cart</button>\n    </div>\n    `).appendTo(".cols-list")}):($(".no-list").css("display","block"),$(".cols-list").css("border-bottom","none"))})),$("body").on("click","#add-list",(function(){const a=$(this).parents(".item").data("id"),e=t.find(t=>t.id===a),i=n.find(t=>t.id===a),s=n.findIndex(t=>t.id===a);-1===s?(e.quantity=1,e.total=Math.round((e.price-e.price*e.discount/100)*e.quantity),n.push(e),alert("Product added to cart successfully")):(n[s].quantity=i.quantity,n[s].total=Math.round(n[s].quantity*(n[s].price-n[s].price*n[s].discount/100)),alert("The product already exists in the shopping cart, please check back!"));const c=n.reduce((t,n)=>t+n.quantity,0);$(".blue").text(""+c);const d=n.reduce((t,n)=>t+n.total,0);n.length>0&&$(".no-product").css("display","none"),$(".total").text(`$${d}.00`),$(".product-cart").empty(),n.map(t=>{$(`\n            <div data-id=${t.id} class="product flex a-center j-between">\n            <div  class="item-product flex a-center j-between">\n                <img src=${t.img}\n                    alt="">\n                <div class="info">\n                    <a class="name" href="">${t.name}</a>\n                    <div class="price flex a-center">\n                        <span class="quantity">${t.quantity}x </span>\n                        <span class="price"> $${Math.round(t.price-t.price*t.discount/100)}.00</span>\n                    </div>\n                </div>\n            </div>\n            <button id="delete">X</button>     \n            </div>\n        `).appendTo(".product-cart")}),localStorage.setItem("cart",JSON.stringify(n))}))}));