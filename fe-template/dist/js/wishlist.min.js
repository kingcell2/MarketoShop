$((function(){const t=JSON.parse(localStorage.getItem("wishlist")),s=JSON.parse(localStorage.getItem("cart"));function n(t){t.map(t=>{$(`\n                <div data-id=${t.id} class="product flex a-center j-between">\n                <div  class="item-product flex a-center j-between">\n                    <img src=${t.img}\n                        alt="">\n                    <div class="info">\n                    <a class="name" href="/viewproduct.html">${t.name}</a>\n                    <div class="price flex a-center">\n                    <span class="quantity">${t.quantity_add} xÂ </span>\n                    <span class="price"> $${Math.round(t.price-t.price*t.discount/100)}.00</span>\n                        </div>\n                    </div>\n                </div>\n                <button id="delete">X</button>     \n                </div>\n            `).appendTo(".product-cart")})}function e(t){t.map(t=>{$(` <div data-id=${t.id} class="item">\n            <button id="delete-list">X</button>\n            <div class="images">\n                <img src=${t.img}\n                    alt="">\n            </div>\n            <span class="name">${t.name}</span>\n            <span class="price">$${Math.round(t.price-t.price*t.discount/100)}.00</span>\n            <span class="quantity">${t.quantity} In Stock</span>\n            <button id="add-list">Add to cart <i class="fas fa-check"></i></button>\n        </div>\n        `).appendTo(".cols-list")})}const d=t.reduce((t,s)=>t+s.quantity_add,0);$(".white").text(""+d),$(".product-cart").empty(),e(t);const i=s.reduce((t,s)=>t+s.total,0),a=s.reduce((t,s)=>t+s.quantity_add,0);$(".blue").text(""+a),$(".no-product").css("display","none"),$(".total").text(`$${i}.00`),n(s),$("body").on("click","#delete-list",(function(){const s=$(this).parents(".item").data("id"),n=t.findIndex(t=>t.id===s);t.splice(n,1),$(".cols-list").empty();const d=t.reduce((t,s)=>t+s.quantity_add,0);$(".white").text(""+d),t.length?e(t):($(".no-list").css("display","block"),$(".cols-list").css("border-bottom","none")),$(".removed").css("display","block"),$(".exists").css("display","none"),$(".added").css("display","none")})),$("body").on("click","#add-list",(function(){const d=$(this).parents(".item").data("id"),i=t.find(t=>t.id===d),a=t.findIndex(t=>t.id===d),c=s.find(t=>t.id===d),o=s.findIndex(t=>t.id===d);if(-1===o){i.quantity_add=1,i.total=Math.round((i.price-i.price*i.discount/100)*i.quantity_add),s.push(i),t.splice(a,1),$(".cols-list").empty();const n=t.reduce((t,s)=>t+s.quantity_add,0);$(".white").text(""+n),t.length?e(t):($(".no-list").css("display","block"),$(".cols-list").css("border-bottom","none")),$(".removed").css("display","none"),$(".exists").css("display","none"),$(".added").css("display","block")}else{s[o].quantity_add=c.quantity_add,s[o].total=Math.round(s[o].quantity_add*(s[o].price-s[o].price*s[o].discount/100)),t.splice(a,1),$(".cols-list").empty();const n=t.reduce((t,s)=>t+s.quantity_add,0);$(".white").text(""+n),t.length?e(t):($(".no-list").css("display","block"),$(".cols-list").css("border-bottom","none")),$(".removed").css("display","none"),$(".exists").css("display","block"),$(".added").css("display","none")}const l=s.reduce((t,s)=>t+s.quantity_add,0);$(".blue").text(""+l);const p=s.reduce((t,s)=>t+s.total,0);s.length>0&&$(".no-product").css("display","none"),$(".total").text(`$${p}.00`),$(".product-cart").empty(),n(s),localStorage.setItem("cart",JSON.stringify(s))})),$("body").on("click","#delete",(function(){const t=$(this).parents(".product").data("id"),e=s.findIndex(s=>s.id===t);s.splice(e,1);const d=s.reduce((t,s)=>t+s.total,0);s.subtotal=d;const i=s.reduce((t,s)=>t+s.quantity_add,0);$(".blue").text(""+i),$(".product-cart").empty(),s.length?($(".no-product").css("display","none"),$(".view-cart").css("opacity","1"),$(".total").text(`$${d}.00`),n(s)):($(".no-product").css("display","block"),$(".total").text(`$${d}.00`))}))}));